<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		
		<template id="translationie_invoice_mod_report" inherit_id="account.report_invoice_document">
			<xpath expr="//div[@class='col-xs-5 col-xs-offset-7']" position="replace">
				<div class="col-xs-4">
                    <address style="font-size:20pt;" t-field="o.partner_id"
                        t-field-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": true}' />
                    <span t-if="o.partner_id.vat">TIN: <span t-field="o.partner_id.vat"/></span>
                </div>
			</xpath>
			<xpath expr="//h2"  position="replace" >
			<h2>
				<span t-if="o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">Invoice</span>
				<span t-if="o.type == 'out_invoice' and o.state == 'proforma2'">PRO-FORMA</span>
				<span t-if="o.type == 'out_invoice' and o.state == 'draft'">Draft Invoice</span>
				<span t-if="o.type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</span>
				<span t-if="o.type == 'out_refund'">Refund</span>
				<span t-if="o.type == 'in_refund'">Vendor Refund</span>
				<span t-if="o.type == 'in_invoice'">Purchase Order</span>
				<span t-field="o.number"/>
			</h2>
			<h2>Forbidden City Ltd. T/A Translation.ie</h2>
			</xpath>
			<xpath expr="//div[@class='row mt32 mb32']" position="replace">
				<t t-if="o.type == 'in_invoice'">
					<div class="row mt32 mb32">
						<div style="margin-left:17px;"  t-if="o.name">
							<strong>Description:</strong>
							<p t-field="o.name"/>
						</div>
					</div>
					<div class="row mt32 mb32">
						<div class="col-xs-2" t-if="o.date_invoice">
							<strong>Invoice Date:</strong>
							<p t-field="o.date_invoice"/>
						</div>
						<div class="col-xs-2" t-if="o.partner_id.ref">
							<strong>Customer Code:</strong>
							<p t-field="o.partner_id.ref"/>
						</div>
						<div class="col-xs-2" t-if="o.reference">
							<strong>Order Reference:</strong>
							<p t-field="o.reference"/>
						</div>
						<div class="col-xs-3" t-if="o.partner_id.x_legacy_account">
							<strong>Account Reference:</strong>
							<p t-field="o.partner_id.x_legacy_account"/>
						</div>
					</div>
				</t>
				<t t-if="o.type == 'out_invoice'">
					<div class="row mt32 mb32">
						<div style="margin-left:17px;" t-if="o.name">
							<strong>Description:</strong>
							<p t-field="o.name"/>
						</div>
					</div>
					<div class="row mt32 mb32">
						<div style="margin-left:17px;" t-if="o.x_po_num">
							<strong>PO Number:</strong>
							<p t-field="o.x_po_num" />
						</div>
					</div>
					<div class="row mt32 mb32">
						<div class="col-xs-2" t-if="o.origin">
							<strong>Reference:</strong>
							<p t-field="o.origin"/>
						</div>
						<div class="col-xs-2" t-if="o.date_invoice">
							<strong>Invoice Date:</strong>
							<p t-field="o.date_invoice"/>
						</div>
						<div class="col-xs-3" t-if="o.partner_id.parent_id.x_legacy_account">
							<strong>Account Reference:</strong>
							<p t-field="o.partner_id.parent_id.x_legacy_account"/>
						</div>
					</div>
				</t>
			</xpath>
			<xpath expr="//table[@class='table table-condensed']//thead//tr" position="replace">
				<tr>
					<th>Qty</th>
					<th>Description</th>
					<th>Source</th>
					<th>Target</th>
					<th class="text-right">Rate</th>
					<th class="text-right">VAT</th>
					<th class="text-right">Net Amount</th>
				</tr>
			</xpath>
			<xpath expr="//table[@class='table table-condensed']//tbody//tr" position="replace">
				<tr t-foreach="o.invoice_line_ids" t-as="l">
					<td>
						<span t-field="l.quantity"/>
					</td>
					<td>
						<span t-field="l.name"/>
					</td>
					<td>
						<span t-field="l.x_source"/>
					</td>
					<td>
						<span t-field="l.x_target"/>
					</td>
					<td class="text-right">
						<span t-field="l.price_unit" t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
					</td>
					<td class="text-right">
						<span t-field="l.x_vat_amount" t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
					</td>
					<td class="text-right">
						<span t-field="l.price_subtotal"  t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
					</td>
				</tr>
			</xpath>
			<xpath expr="//div[@class='col-xs-4 pull-right']//table" position="replace">
				<table class="table table-condensed">
					<tr class="border-black">
						<td>
							<strong>Total Excluding VAT</strong>
						</td>
						<td class="text-right">
							<span t-field="o.amount_untaxed" t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
						</td>
					</tr>
					<tr>
						<td>
							VAT
						</td>
						<td class="text-right">
							<span t-field="o.amount_tax" t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
						</td>
					</tr>
					<tr class="border-black">
						<td>
							<strong>Total</strong>
						</td>
						<td class="text-right">
							<span t-field="o.amount_total" t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
						</td>
					</tr>
					<tr>
						<td>
							<strong>Amount Due</strong>
						</td>
						<td class="text-right">
							<span t-field="o.residual" t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
						</td>
					</tr>
				</table>
			</xpath>
			<xpath expr="//div[@class='col-xs-6']//table" position="replace" />
			<xpath expr="//p[@t-if='o.comment']" position="after">
				<t t-if="o.type != 'in_invoice' and o.type != 'in_refund'">
					<div style="position:relative;margin-top:15%;">
						<table width="50%" style="font-weight:bold;">
							<tr>
								<td>
									Electronic Fund Transfer Details:
								</td>
							</tr>
							<tr>
								<td width="70%">
									Bank of Ireland, Ballsbridge, Dublin 4
								</td>
								<td width="30%">
									NSC: 90 09 73
								</td>
							</tr>
							<tr>
								<td width="70%">
									Name: Translation.ie
								</td>
								<td width="30%" >
									NR.: 22402684
								</td>
							</tr>
							<tr>
								<td width="70%">
									IBAN: <t t-if="o.partner_bank_id"><span t-field="o.partner_bank_id.acc_number" /></t><t t-if="not o.partner_bank_id">IE86 BOFI 9009 7391 0557 19</t>
								</td>
								<td width="30%" >
									BIC: BOFIIE2D
								</td>
							</tr>
							<tr>
								<td colspan="2">
									Remittance by email to: accounts@translation.ie
								</td>
							</tr>
						</table>
						<div>
							<p style="font-weight:bold;text-align:center;margin-top:5%">CONTACT US TO PAY WITH CREDIT CARD BY PHONE</p>
						</div>
						<p style="font-weight:bold;text-align:center;">Tax Clearance Access Number: <span t-field="o.company_id.tax_clearance_code" />		  VAT No.:	<span t-field="o.company_id.vat"/></p>
						<p style="text-align:center">Payment term is 30 days. Late payments subject to interest per the prompt payment act 1997 and european communities regulations 2012</p>
					</div>
				</t>
			</xpath>
			<xpath expr="//p[@t-if='o.payment_term_id']" position="replace" />
		</template>
		
	</data>
</openerp>